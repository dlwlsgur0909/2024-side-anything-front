<script setup>

import { useAuthStore } from '../stores/authStore.js';
import globalStore from '../stores/globalStore.js';
import CommonButton from '@/components/common/CommonButton.vue';

const auth = useAuthStore();

// ë‚´ ì •ë³´ í˜ì´ì§€ ì´ë™
function goToMyInfo() {
  globalStore.router.push({
    name: 'Member',
    params: {
      username: auth.member.username
    },
  });
}

// ë‚´ í¬íŠ¸í´ë¦¬ì˜¤ í˜ì´ì§€ ì´ë™
function goToMyPortfolioList() {
  globalStore.router.push('/myPortfolioList');
}

// ë¡œê·¸ì¸ ì‹œ ê¶Œí•œë„ ì €ì¥í•´ì„œ adminì´ ì•„ë‹Œ ê²½ìš° admin ë²„íŠ¼ ìˆ¨ê¹€ ì²˜ë¦¬ í•„ìš”
function admin() {
  globalStore.router.push('/admin');
}

// ë²„íŠ¼ ì„¤ì •
const buttonConfig = {
  myInfo: {
    label: 'ë‚´ ì •ë³´',
    fontColor: '#fff',
    backgroundColor: '#000'
  },
  myPortfolio: {
    label: 'ë‚´ í¬íŠ¸í´ë¦¬ì˜¤',
    fontColor: '#fff',
    backgroundColor: '#000'
  },
  logout: {
    label: 'ë¡œê·¸ì•„ì›ƒ',
    fontColor: '#fff',
    backgroundColor: 'red'
  }
}

</script>

<template>
  <div class="main">
    <div class="home-greeting-container">
      <h1>ì•ˆë…•í•˜ì„¸ìš” {{ auth.member.name }}ë‹˜ ğŸ˜Š</h1>
    </div>
    <div class="my-menu">
      <CommonButton
        class="my-info-button"
        @click="goToMyInfo()"
        :label="buttonConfig.myInfo.label"
        :fontColor="buttonConfig.myInfo.fontColor"
        :backgroundColor="buttonConfig.myInfo.backgroundColor"
      />
      <CommonButton
        class="my-portfolio-button"
        @click="goToMyPortfolioList()"
        :label="buttonConfig.myPortfolio.label"
        :fontColor="buttonConfig.myPortfolio.fontColor"
        :backgroundColor="buttonConfig.myPortfolio.backgroundColor"
      />
      <CommonButton
        class="logout-button"
        @click="auth.logout()"
        :label="buttonConfig.logout.label"
        :fontColor="buttonConfig.logout.fontColor"
        :backgroundColor="buttonConfig.logout.backgroundColor"
      />
    </div>
    <div>
      í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡ (ë“±ë¡ì¼/ì¡°íšŒìˆ˜/ì¢‹ì•„ìš” ê¸°ì¤€ top 5) 
    </div>
    <button @click="admin()">ê´€ë¦¬ì</button>
  </div>
</template>

<style>

.home-greeting-container {
  display: flex;
  justify-content: center;
}

.my-menu {
  display: flex;
  justify-content: center;
  gap: 20px;
}

.my-info-button,
.my-portfolio-button,
.logout-button {
  flex: 1;
  height: 30px !important;
}

@media(max-width: 600px) {
  /* .my-menu {
    flex-direction: column;
    align-items: center;
  }

  .my-info-button,
  .my-portfolio-button,
  .logout-button {
    width: 30%;
  } */
}

</style>
