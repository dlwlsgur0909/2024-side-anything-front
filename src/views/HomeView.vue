<script setup>

import { useAuthStore } from '../stores/authStore.js';
import globalStore from '../stores/globalStore.js';
import CommonButton from '@/components/common/CommonButton.vue';

const auth = useAuthStore();

// ë‚´ ë™í–‰ ëª¨ì§‘ í˜ì´ì§€ ì´ë™
function goToMyCompanionPostList() {
  globalStore.router.push('/myCompanionPostList');
}

// ë‚´ ë™í–‰ ì‹ ì²­ í˜ì´ì§€ ì´ë™
function goToMyCompanionApplicationList() {
  globalStore.router.push('/myCompanionApplicationList');
}

// ë¡œê·¸ì¸ ì‹œ ê¶Œí•œë„ ì €ì¥í•´ì„œ adminì´ ì•„ë‹Œ ê²½ìš° admin ë²„íŠ¼ ìˆ¨ê¹€ ì²˜ë¦¬ í•„ìš”
function admin() {
  globalStore.router.push('/admin');
}

// ë²„íŠ¼ ì„¤ì •
const buttonConfig = {
  myCompanionPost: {
    label: 'ë‚´ ë™í–‰ ëª¨ì§‘',
    fontColor: '#fff',
    backgroundColor: '#000'
  },
  myCompanionApplication: {
    label: 'ë‚´ ë™í–‰ ì‹ ì²­',
    fontColor: '#fff',
    backgroundColor: '#000'
  },
  logout: {
    label: 'ë¡œê·¸ì•„ì›ƒ',
    fontColor: '#fff',
    backgroundColor: 'red'
  }
}

</script>

<template>
  <div class="main">
    <div class="home-greeting-container">
      <h1>ì•ˆë…•í•˜ì„¸ìš” {{ auth.member?.name }}ë‹˜ ğŸ˜Š</h1>
    </div>
    <div class="my-menu">
      <CommonButton
        class="my-companion-post-button"
        @click="goToMyCompanionPostList()"
        :label="buttonConfig.myCompanionPost.label"
        :fontColor="buttonConfig.myCompanionPost.fontColor"
        :backgroundColor="buttonConfig.myCompanionPost.backgroundColor"
      />
      <CommonButton
        class="my-companion-application-button"
        @click="goToMyCompanionApplicationList()"
        :label="buttonConfig.myCompanionApplication.label"
        :fontColor="buttonConfig.myCompanionApplication.fontColor"
        :backgroundColor="buttonConfig.myCompanionApplication.backgroundColor"
      />
      <CommonButton
        class="logout-button"
        @click="auth.logout()"
        :label="buttonConfig.logout.label"
        :fontColor="buttonConfig.logout.fontColor"
        :backgroundColor="buttonConfig.logout.backgroundColor"
      />
    </div>
    <div>
      í¬íŠ¸í´ë¦¬ì˜¤ ëª©ë¡ (ë“±ë¡ì¼/ì¡°íšŒìˆ˜/ì¢‹ì•„ìš” ê¸°ì¤€ top 5) 
    </div>
    <button @click="admin()">ê´€ë¦¬ì</button>
  </div>
</template>

<style>

.home-greeting-container {
  display: flex;
  justify-content: center;
}

.my-menu {
  display: flex;
  justify-content: center;
  gap: 20px;
}

.my-companion-post-button,
.my-companion-application-button,
.logout-button {
  flex: 1;
}

@media(max-width: 600px) {
  .my-menu {
    flex-direction: column;
    align-items: center;
  }

  .my-info-button,
  .my-portfolio-button,
  .logout-button {
    width: 30%;
  }
}

</style>
